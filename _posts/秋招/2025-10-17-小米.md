---
layout: post
title: "小米面经"
date: 2025-10-17
category: 秋招
---

## 图像调试岗位


## 拷打

1、自我介绍
巴啦啦巴啦啦

2、讲一下你的实习

3、讲讲你在实习时调研了哪些行业上的色域映射算法、以及最终你们选用的哪个

我主要调研了几类主流的色域映射方案，包括一些行业系统和商业实现，比如 CSS、Windows、ColorAide 和 Apple 的策略。

- CSS 的算法是在等色调面下先沿等亮度轴压缩，当彩度压缩到一定阈值后再裁剪。这样既能保持整体的色调一致，也能减少彩度损失。它使用的是 2020 年提出的 Oklab 空间，相比 Lab 在蓝色区域的色调均匀性更好。

- Windows 提供了三种算法策略。常用的是加权裁剪算法，会在等色调面裁剪时对亮度赋权，从而避免低彩度区域出现过大偏差；第二种是对 CIE SGCK 算法的改进版本，将原本可能引起亮度翻转的问题改成了在等亮度下压缩；第三种是 hue mapping，在映射前做了一个色调校正，以保证彩度分布的一致性。

- 另外我也参考了一些学术上的算法，通过横向对比后发现，加权裁剪算法在细节、亮度和色调保持上整体最优，所以最后我们采用了这个方案。

4、你这里是如何评估呢？只要主观评估？没有找人来做？

我答的：是的，主观评估，因为它们公司给的我自愿有限，就我一个人来主观评估，客观评估其实不准的

因为实习期间资源有限，当时公司没有专门的评测组，所以由我来做主观对比评估。
客观指标其实也做了一些尝试，比如 ΔE 和色度分布对比，但在色域映射任务里，这类客观指标往往和人眼感知不完全一致，所以最终我们还是以视觉感受为主要标准。

4、刚才你有提到CCM，那你能讲一下吗

CCM是用来完成设备颜色校正的一个矩阵。 它的核心作用是将一个设备相关的RGB映射到设备无关的色彩空间中，比如 sRGB 或 XYZ，以减小色差。

通常做法一般是通过将拍摄到的24色卡的测量值与他的一个标准值进行一个最小色差优化，来求得这样一个校正矩阵

显示器或者印刷行业对色彩准确度一般较高，所以CCM是不够的，我在做显示器特征化实验时就用过 GOG 模型。

5、了解哪些设备无关的色彩空间

常见的设备无关色彩空间有 CIE XYZ、CIE Lab、CIE Luv、Oklab 等。
它们的特点是与具体设备（如显示器、打印机）无关，直接基于人眼视觉模型。
其中 XYZ 是最基础的表色系统，Lab 和 Luv 是感知均匀化的空间，而 Oklab 是 2020 年提出的改进版本，在蓝色区域的色调均匀性和视觉一致性更好。

⚠️ 避免：

不要混入 RGB、YUV、HSV（这些是设备相关或工程空间）。

6、了解光谱吗？有做过相关的项目吗？

了解一些。光谱数据相比对色度值比如CIEXYZ，附带着更多数据，因为他在每个波段上都有相应的数据，相对于三刺激值具有更高维度。另外因为这个问题，也产生了一个同色异谱现象，它是说我们看到同一个色彩，但是他的光谱数据却不一样，这是因为我们人眼接收的色彩是以三维形式表征的，所以当两个不同的光谱从高维到一个低维降维时就会产生相同的一个颜色值。

有做过我们实验室的设备是分光光度计测量出来的数据是颜色的光谱数据，所以在后续计算时，是需要手动将这些光谱数据给转换到色度空间的比如CIEXYZ

7、那你了解过如何降低这个同色异谱的问题吗？有实际做过吗

同色异谱主要来源于光谱差异。降低它的方法包括：

在材料或显示领域，可以优化光源或反射谱设计，使样品在常用光源下的色度变化最小；

在算法层面，可以通过多光源测量或多光谱建模提升稳健性。
我自己在实验中虽然没有直接做同色异谱优化，但在显示特征化时考虑了不同光源下的色差变化，这其实与控制同色异谱效应相关。

> 观察者同色异谱
> 背景：比如说即使我们将两台显示器在标准观察者下校准到完全匹配（ΔE=0），但是换到不同的人看起来仍会有轻微色差。这主要是因为实际人群中，L、M、S 锥的灵敏度曲线（峰值波长、带宽）存在个体差异。
> 简述：
> 不同观察者的视锥灵敏度曲线存在差异，这会导致所谓的“观察者同色异谱”问题。
> 要减轻这种影响主要有几种方法：
> 常规做法是改进显示光谱设计，比如用更宽的发光谱，像以前的CRT显示器就是这样；
> 实际中主要还是通过光谱优化来降低这种问题。

8、了解数字图像处理吗？比如常见滤波，算子

了解一些常见的图像处理操作，比如平滑滤波（均值、中值、高斯）和边缘检测算子（Sobel、Laplacian、Canny 等）。

9、了解哪些算子？讲一下Sobel和拉普拉斯算子，有什么区别？以及拉普拉斯算子比Sobel算子好在哪？

10、了解白平衡算法吗？知道哪些白平衡算法？讲一下灰度世界法

了解，常见白平衡算法包括灰度世界法、完美反射法、基于学习的方法等。
灰度世界假设整幅图像的平均颜色应为中性灰（R=G=B），因此通过调节三通道增益，使图像平均值趋于灰色。
它实现简单、效率高，但在图像色彩偏单一时效果会受影响。

第一类：经典的静态算法这是AWB的基础，它们依赖于对图像内容的全局统计假设：

1. 灰度世界法 (Gray World)： 核心假设是：任何色彩足够丰富的图像，其 R、G、B 三个通道的平均值应该趋向于一个中性灰色。
2. 完美反射法 (Perfect Reflector / White Patch)： 核心假设是：图像中最亮的像素 $(R_{max}, G_{max}, B_{max})$ 是由纯白色物体反射产生的，它直接反映了光源的颜色。

针对于上面两个算法出现的问题（。。。），可能会有一下两种改进：

1. 加权灰度世界法 (Weighted Gray World)： 对“灰度世界法”的改进。它认为不是所有像素都同等重要，饱和度越低（越接近灰色）的像素，应该给予越高的权重。
2. Patch完美反射法”是“完美反射法”的一种改进算法。它不再是简单地寻找R, G, B三个通道的各自最大值，而是先找出图像中“最亮的一个小区域（Patch）”（例如亮度排名前1%的像素），然后计算这个区域内所有像素的R, G, B平均值，并以此作为光源颜色来校正图像。一句话总结：**它用“最亮区域的平均值”替代了“最亮的单个值”，大大提高了算法对噪点和彩色高光的抵抗能力，结果更稳定。**

11、知道哪些图像质量属性？对比度是如何评价的？清晰度呢？

常见图像质量属性包括亮度、对比度、色彩还原度、清晰度、噪声等。
对比度可以通过灰度范围（max-min）或 RMS 对比度来定量评价。
清晰度可以通过 MTF（调制传递函数） 或基于梯度的指标（如 Tenengrad、Laplacian 方差）来测量。

回答的不好，这里清晰度不知道，说了一下MTF（不知道对不对）

12、知道有参的色差公式？无参的呢？

有参色差是基于参考颜色或标准样本计算的，比如 ΔE₇₆、ΔE₀₀，用于评估色彩还原准确度；
无参色差则是在没有参考的情况下，从图像自身的色彩分布或感知特征出发评估质量，
常用于图像增强、无参考质量评价等场景。

还有SSIM，SSIM（结构相似性）是一种比PSNR更先进的图像质量评价指标，因为它更接近人眼的实际观感。

它不逐点比较像素误差，而是创造性地从亮度、对比度、结构这三个维度，综合评估两张图像的相似程度。

正因为评价结果与人的主观感受更一致，SSIM在图像压缩、视频编码等领域，已成为比PSNR更常用、也更具参考价值的行业标准。

>没听懂啥玩意有参没参的

13、在你们色彩中是如何比较色差的呢？有哪些色差公式？DE2000相对于DE76有什么优点？为什么会有这些优点？

> 说了一下一般都是使用DE76和DE2000，然后说DE00相对于DE76是在蓝色调区域进行了一个改进，更加准确（不知道对不对）

ΔE₀₀ 是在 ΔE₇₆ 基础上针对感知不均匀性做了五方面改进：
分别对亮度、色度、色调加入加权因子，对 a* 分量加入色度依赖性修正，
并新增旋转项 RT 来修正蓝色区域的色差感知不一致，
同时提供 kL、kC、kH 三个调节参数。
这样在全色域范围内 ΔE₀₀ 与人眼主观色差更一致。

14、在你的项目中有做过相关的色差公式使用吗？

> 我说在验证显示设备特征化的准确性时有用到，使用的24色卡

有的。在显示设备特征化实验中，我使用 ΔE76 和 ΔE2000 来评估模型的准确性。
具体是测量 24 色卡的实测颜色与模型预测值之间的色差，通过平均 ΔE 来评价拟合效果。
这种方法能直观地反映色彩校正模型的精度。